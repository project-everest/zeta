
include $(HACL_HOME)/Makefile.include

FSTAR_INCLUDES=$(ALL_HACL_DIRS) $(KREMLIN_HOME)/kremlib $(KREMLIN_HOME)/kremlib/obj formats obj

FSTAR_OPTIONS=$(addprefix --include ,$(FSTAR_INCLUDES)) --already_cached '*,-Veritas,-LowStar.Exception,-PRFSetHash' --cache_dir obj --odir obj --cmi

FSTAR_EXE=$(FSTAR_HOME)/bin/fstar.exe $(FSTAR_OPTIONS)

VERITAS_SOURCES=$(filter-out ThreadState.fsti Veritas.LogStream.fsti LayeredEffect.fst,$(wildcard *.fst) $(wildcard *.fsti))
